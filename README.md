# AIAnalyze - 数据智能分析平台

AIAnalyze 是一个全栈数据分析平台，结合了 React 前端和 FastAPI 后端，利用 LLM（大语言模型）能力，为用户提供自动化的数据分析、图表生成和报告撰写服务。

## ✨ 核心功能

*   **自然语言交互**: 用户通过对话形式提出分析需求。
*   **数据处理**: 支持 CSV, Excel 等格式的数据文件上传与分析。
*   **代码执行**: 后端实时生成并执行 Python 代码进行数据清洗、统计和建模。
*   **图表生成**: 自动绘制 matplotlib/seaborn 图表并展示。
*   **报告生成**: 一键生成包含分析结论、图表和代码的 Markdown/PDF 报告。

## 🛠️ 技术栈

*   **前端**: React, Tailwind CSS, Lucide Icons
*   **后端**: Python, FastAPI, Uvicorn, Pandas, Matplotlib, Scikit-learn
*   **AI**: OpenAI API / 兼容 OpenAI 格式的模型服务
*   **工具**: Pandoc (文档转换), Microsoft Word (PDF 转换)

## ⚙️ 环境准备

在运行项目之前，请确保您的电脑已安装以下软件：

1.  **Python 3.8+**: [下载 Python](https://www.python.org/downloads/)
    *   *注意*: 安装时请勾选 "Add Python to PATH"。
2.  **Node.js & npm**: [下载 Node.js](https://nodejs.org/)
3.  **Pandoc**: [下载 Pandoc](https://pandoc.org/installing.html)
    *   用于将 Markdown 转换为 Word 文档。
    *   安装后请在命令行运行 `pandoc -v` 确认是否安装成功。
4.  **Microsoft Word**:
    *   项目使用 `docx2pdf` 库，依赖本地安装的 Microsoft Word 来将生成的 Word 文档完美转换为 PDF。
    *   *注意*: 必须是 Windows 系统且安装了 Office Word。

## 🚀 快速开始

### 1. 配置环境变量

在 **项目根目录** 下，确保 `.env` 文件存在并配置了正确的 API Key 和端口：

```env
OPENAI_API_KEY=your_api_key_here
OPENAI_BASE_URL=your_api_base_url_here
FRONTEND_PORT=5173
BACKEND_PORT=8080
SYSTEM_PROMPT=...
```

### 2. 启动后端

双击项目根目录下的 **`run_backend.bat`**。

*   **重要**: 首次运行时，脚本会自动创建名为 `venv` 的虚拟环境，并自动激活该环境，然后安装 `requirements.txt` 中所需的所有依赖。
*   如果您选择手动运行，请务必先执行 `venv\Scripts\activate` 激活环境，然后运行 `pip install -r requirements.txt` 安装依赖。
*   启动 FastAPI 服务，默认监听 `http://localhost:8080` (可在 `.env` 中修改 `BACKEND_PORT`)。

### 3. 启动前端

双击项目根目录下的 **`run_frontend.bat`**。

*   脚本会自动安装 npm 依赖。
*   启动开发服务器，通常会自动打开浏览器访问 `http://localhost:5173` (可在 `.env` 中修改 `FRONTEND_PORT`)。

## 📂 目录结构

```
AIAnalyze/
├── .env                    # 环境变量配置文件
├── backend/                # 后端代码
│   ├── main.py             # 主程序入口
│   ├── utils.py            # 工具函数 (PDF转换等)
│   ├── requirements.txt    # Python 依赖列表
│   ├── uploads/            # 用户上传文件存放区
│   └── output/             # 分析结果输出区
├── frontend/               # 前端代码
│   ├── src/                # React 源码
│   └── ...
├── venv/                   # Python 虚拟环境 (自动生成)
├── run_backend.bat         # 后端启动脚本
├── run_frontend.bat        # 前端启动脚本
└── README.md               # 项目说明文档
```

## 📝 注意事项

*   **PDF 转换**: 自动转 PDF 功能依赖 Word 的 COM 组件，运行过程中可能会在后台启动 Word 进程，请勿手动强制关闭。
*   **端口占用**: 如果启动失败，请检查配置的端口（默认 8080 和 5173）是否被占用。
*   **虚拟环境**: 推荐使用 `run_backend.bat` 启动，它会确保使用隔离的虚拟环境，避免污染全局 Python 环境。

---
*Generated by Trae AI*
